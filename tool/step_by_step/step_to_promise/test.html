<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test promise</title>
    <script src="test3_promise.js"></script>
</head>
<body>
  <script>
     var a =  new Vpromise(function(res,rej){
        setTimeout(function(){
            var r = Math.random();
            r > 0.01? res(r):rej(r);
        },1800)
     })
     a.then(function(data){
         console.log(data);
         var c = new Vpromise(function(res,rej){
            setTimeout(function(){
                var r = Math.random();
                r > 0.01? res("sedonc"+r):rej(r);
             },200);
         });
     },function(data){
         console.log("error:"+data);
     })
     .then(function(data){
         setTimeout(function(){
             console.log(data)
         },3000)
        //  console.log(data);
     })


/*

     var b =  new Promise(function(res,rej){
        setTimeout(function(){
            var r = Math.random();
            r > 0.01? res(r):rej(r);
        },500)
     })
     b.then(function(data){
         console.log(data);
         var c = new Promise(function(res,rej){
            setTimeout(function(){
                var r = Math.random();
                r > 0.01? res("sedonc"+r):rej(r);
             },1000);
         });
         return c;
     },function(data){
         console.log("error:"+data);
     })
     .then(function(data){
         setTimeout(function(){
             console.log(data)
         },3000)
        //  console.log(data);
     })

 */


    //  var  c = a.then(function(data){
    //      console.log(data);
    //      var b= new Lpromise(function(res,rej){
    //             var r = Math.random();
    //             r > 0.5? res("第二次ok"+r):rej("第二次失败"+r);
     //
    //      })
    //     // var b = 456;
    //     console.log("bbb");
    //     console.log(b);
    //     return b;
    //  })
    //  .then(function(data){
    //     console.log(data);
    //  },function(data){
    //     console.log(data);
    //  })
    //  var b = a.then(function(data){
    //      console.log("b:success"+data);
    //  },function(data){
    //      console.log("b:error"+data);
    //  });
    //  var c = a.then(function(data){
    //      console.log("c:success"+data);
    //  },function(data){
    //      console.log("c:error"+data);
    //  });
  </script>
</body>
</html>
